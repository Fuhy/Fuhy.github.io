<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">























  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext">
  






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=7.0.1">


  <link rel="mask-icon" href="/images/favicon.ico?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.0.1',
    sidebar: {"position":"right","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false,"dimmer":true},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="æœ€è¿‘åœ¨åšçš„é¡¹ç›®éœ€è¦å®ç°ä¸€å¥—æƒé™æ§åˆ¶æ–¹æ¡ˆ é¡¹ç›®ä½¿ç”¨Spring + Vue.jsæ„å»ºå‰åç«¯åˆ†ç¦»çš„ç³»ç»Ÿï¼Œå®ç°äº†åŸºäºRESTful APIçš„æƒé™æ§åˆ¶ï¼Œä»¥åŠæ•°æ®è®¿é—®æ§åˆ¶ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="åŸºäºSpringæ¡†æ¶çš„æƒé™æ§åˆ¶ç³»ç»Ÿ">
<meta property="og:url" content="http://fuhy.me/2019/03/05/springSecurity/index.html">
<meta property="og:site_name" content="Fuhy&#39;s Blog">
<meta property="og:description" content="æœ€è¿‘åœ¨åšçš„é¡¹ç›®éœ€è¦å®ç°ä¸€å¥—æƒé™æ§åˆ¶æ–¹æ¡ˆ é¡¹ç›®ä½¿ç”¨Spring + Vue.jsæ„å»ºå‰åç«¯åˆ†ç¦»çš„ç³»ç»Ÿï¼Œå®ç°äº†åŸºäºRESTful APIçš„æƒé™æ§åˆ¶ï¼Œä»¥åŠæ•°æ®è®¿é—®æ§åˆ¶ã€‚">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-09-01T15:55:09.557Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="åŸºäºSpringæ¡†æ¶çš„æƒé™æ§åˆ¶ç³»ç»Ÿ">
<meta name="twitter:description" content="æœ€è¿‘åœ¨åšçš„é¡¹ç›®éœ€è¦å®ç°ä¸€å¥—æƒé™æ§åˆ¶æ–¹æ¡ˆ é¡¹ç›®ä½¿ç”¨Spring + Vue.jsæ„å»ºå‰åç«¯åˆ†ç¦»çš„ç³»ç»Ÿï¼Œå®ç°äº†åŸºäºRESTful APIçš„æƒé™æ§åˆ¶ï¼Œä»¥åŠæ•°æ®è®¿é—®æ§åˆ¶ã€‚">






  <link rel="canonical" href="http://fuhy.me/2019/03/05/springSecurity/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>åŸºäºSpringæ¡†æ¶çš„æƒé™æ§åˆ¶ç³»ç»Ÿ | Fuhy's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Fuhy's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://fuhy.me/2019/03/05/springSecurity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fuhy">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/favicon.ico">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fuhy's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">åŸºäºSpringæ¡†æ¶çš„æƒé™æ§åˆ¶ç³»ç»Ÿ

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-05 16:27:06" itemprop="dateCreated datePublished" datetime="2019-03-05T16:27:06+08:00">2019-03-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-09-01 23:55:09" itemprop="dateModified" datetime="2019-09-01T23:55:09+08:00">2019-09-01</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>æœ€è¿‘åœ¨åšçš„é¡¹ç›®éœ€è¦å®ç°ä¸€å¥—æƒé™æ§åˆ¶æ–¹æ¡ˆ</p>
<p>é¡¹ç›®ä½¿ç”¨Spring + Vue.jsæ„å»ºå‰åç«¯åˆ†ç¦»çš„ç³»ç»Ÿï¼Œå®ç°äº†åŸºäºRESTful APIçš„æƒé™æ§åˆ¶ï¼Œä»¥åŠæ•°æ®è®¿é—®æ§åˆ¶ã€‚</p>
<a id="more"></a>
<p><strong>å…³äºè¿™ä¸ªé¡¹ç›®çš„ä¸€äº›ä¿¡æ¯</strong></p>
<p>åç«¯è®¾è®¡ä¸ºä¸‰å±‚ï¼š<code>Controller Layer</code>, <code>Service Layer</code>, ä»¥åŠ<code>Data Access Layer</code>ã€‚</p>
<p>ç³»ç»Ÿçš„æ•°æ®æºä¸ºMongoDBå’ŒMySQLã€‚DALæ··åˆä½¿ç”¨äº†<code>Morphia</code>æ¥è¯»å–MongoDBä¸­çš„æ•°æ®ä»¥åŠ<code>Spring Data JPA</code>æ¥è¯»å†™MySQLçš„æ•°æ®ã€‚</p>
<blockquote>
<p><strong>é¢˜å¤–è¯ï¼š DALä¸­ï¼ŒDAOå’ŒRepositoryæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p><a href="https://stackoverflow.com/questions/8550124/what-is-the-difference-between-dao-and-repository-patterns" target="_blank" rel="noopener">å¯å‚è€ƒStackOverflowä¸Šçš„è¿™ä¸ªé—®é¢˜é‡Œçš„è®¨è®º</a></p>
</blockquote>
<h1 id="éœ€æ±‚åˆ†æåŠæ–¹æ¡ˆè®¾è®¡"><a href="#éœ€æ±‚åˆ†æåŠæ–¹æ¡ˆè®¾è®¡" class="headerlink" title="éœ€æ±‚åˆ†æåŠæ–¹æ¡ˆè®¾è®¡"></a>éœ€æ±‚åˆ†æåŠæ–¹æ¡ˆè®¾è®¡</h1><h2 id="éœ€æ±‚æè¿°"><a href="#éœ€æ±‚æè¿°" class="headerlink" title="éœ€æ±‚æè¿°"></a>éœ€æ±‚æè¿°</h2><p>ç”²æ–¹è¦æ±‚å®ç°ä¸€å¥—ç»†ç²’åº¦ä¸”å¯ä¸ªæ€§åŒ–é…ç½®çš„æƒé™æ§åˆ¶ç³»ç»Ÿã€‚</p>
<ol>
<li>å¯¹å‰ç«¯å±•ç¤ºçš„é¡µé¢ï¼Œä¸åŒç”¨æˆ·æœ‰ä¸åŒçš„æ“ä½œç•Œé¢ã€‚</li>
<li>ä¸åŒç”¨æˆ·å¯¹æ•°æ®å®ä½“çš„æ“ä½œæƒé™ä¸åŒã€‚</li>
<li>å¯¹æ²¡æœ‰æƒé™çš„æ“ä½œï¼Œç”¨æˆ·å¯ä»¥æå‡ºç”³è¯·ï¼Œå®¡æ‰¹é€šè¿‡ä¹‹åè‡ªåŠ¨æ‰§è¡Œï¼ˆæœ¬æ¬¡ï¼‰æ“ä½œã€‚</li>
<li>ä¸åŒç”¨æˆ·èƒ½è®¿é—®çš„æ•°æ®å®ä½“ï¼ˆ<strong>æ•°æ®åº“è¡¨ä¸­çš„è¡Œ</strong>ï¼‰ä¸åŒã€‚</li>
<li>å¦‚æœå¯èƒ½ï¼Œéœ€è¦å®ç°å¯¹å…·ä½“æ•°æ®å®ä½“ä¸­çš„ä¸ªåˆ«å±æ€§ï¼ˆ<strong>æ•°æ®åº“è¡¨ä¸­çš„åˆ—</strong>ï¼‰çš„è®¿é—®æ§åˆ¶ã€‚</li>
</ol>
<ul>
<li><p>å› ä¸ºæ­¤ç³»ç»Ÿæ˜¯å‰åç«¯åˆ†ç¦»ã€é€šè¿‡RESTful APIæ¥æ“ä½œæ•°æ®çš„ï¼Œæ‰€ä»¥æƒé™æ§åˆ¶åªèƒ½åœ¨åç«¯è¿›è¡Œã€‚è€Œåœ¨å…·ä½“å®è·µä¸­ï¼Œæ¶‰åŠå¢åˆ æ”¹åŠŸèƒ½çš„å‰ç«¯çš„æŒ‰é’®ä¸åç«¯çš„APIå¤§å¤šæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œåªéœ€è¦åœ¨åç«¯å¯¹Controllerå±‚è¿›è¡Œæ§åˆ¶å°±å¥½äº†ã€‚</p>
</li>
<li><p>å¯¹äºæ•°æ®å®ä½“çš„è¿‡æ»¤ï¼Œè¯•å›¾åœ¨æ•°æ®ä»æŒä¹…å±‚å–å‡ºåé€šè¿‡AOPåšåˆ‡é¢å®ç°ã€‚</p>
</li>
<li><p>ç”³è¯·/å®¡æ ¸æ€è·¯å¤§æ¦‚æ˜¯å…ˆå¾€æ•°æ®åº“ä¸­å†™å…¥å†—ä½™çš„æ–°æ•°æ®å¹¶æ·»åŠ æ ‡ç¤ºä½ï¼Œæ ‡è®°ä¸ºæ— æ•ˆæ•°æ®ã€‚å½“å®¡æ‰¹é“¾å®Œæˆåï¼Œé‡æ–°æ ‡è®°ä¸ºæœ‰æ•ˆæ•°æ®ï¼ˆå¹¶åˆ é™¤æ—§æ•°æ®ï¼‰ã€‚</p>
</li>
</ul>
<h2 id="æ–¹æ¡ˆè®¾è®¡"><a href="#æ–¹æ¡ˆè®¾è®¡" class="headerlink" title="æ–¹æ¡ˆè®¾è®¡"></a>æ–¹æ¡ˆè®¾è®¡</h2><h3 id="æµç¨‹æ¦‚è¿°"><a href="#æµç¨‹æ¦‚è¿°" class="headerlink" title="æµç¨‹æ¦‚è¿°"></a>æµç¨‹æ¦‚è¿°</h3><ul>
<li><p>ä¸€èˆ¬çš„Spring MVCæ¡†æ¶è°ƒç”¨ä¸€æ¬¡æ¥å£çš„æµç¨‹ä¸ºï¼š</p>
<p><code>HttpRequest</code>ğŸ‘‡  å®¢æˆ·ç«¯é€šè¿‡RESTfulAPIå‘èµ·è¯·æ±‚</p>
<p><code>ControllerMethod</code>ğŸ‘‰<code>SomeServiceMethod</code>ğŸ‘‰ <code>Repository/DAO</code> ğŸ‘‡    ä¾æ¬¡é€šè¿‡Controllerå±‚ã€Serviceå±‚ç›´è‡³Persistenceå±‚è·å–æ•°æ®</p>
<p><code>SomeServiceMethod</code> ğŸ‘‰ <code>ControllerMethod</code>ğŸ‘‡  è§£æå¤„ç†æ•°æ®å¹¶è¿”å›è‡³Controllerå±‚</p>
<p><code>HttpResponce</code>  è¿”å›ç»™å®¢æˆ·ç«¯</p>
</li>
<li><p>å®ç°ä¹‹åï¼Œè®¿é—®æ•°æ®çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><code>HttpRequest</code>ğŸ‘‡ </p>
<p>â€”â€”â€”â€”â€”â€”æ¥å£è®¿é—®æ§åˆ¶â€”â€”â€”â€”â€”â€”</p>
<p><code>JWTAuthenticationFilter</code> ğŸ‘‡ <strong>éªŒè¯ç”¨æˆ·ååŠå£ä»¤ï¼Œï¼ˆè‹¥ä¸ºç™»å½•æ¥å£ï¼‰äº§ç”ŸJWT</strong></p>
<p><code>JWTAuthorizationFilter</code> ğŸ‘‡  <strong>è§£æJWT</strong>ï¼Œå¹¶å°†ç”¨æˆ·æƒé™ä¿¡æ¯è½½å…¥<code>SecurityContext</code>ï¼Œå¯åœ¨æœ¬æ¬¡è¯·æ±‚ä¸­ä½¿ç”¨</p>
<p><code>GeneralInterceptor</code> ğŸ‘‡  <strong>æ¯”å¯¹æƒé™ä¿¡æ¯ï¼Œå†³ç­–æ˜¯å¦æ‹¦æˆªæ­¤æ¬¡Request</strong>   <strong>ï¼ˆæ¥å£è®¿é—®æ§åˆ¶ï¼‰</strong></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p><code>ControllerMethod</code>ğŸ‘‰<code>SomeServiceMethod</code>ğŸ‘‰ <code>Repository/DAO</code> ğŸ‘‡ </p>
<p>â€”â€”â€”â€”â€”â€”èµ„æºè®¿é—®æ§åˆ¶â€”â€”â€”â€”â€”â€”</p>
<p><code>AspectFilter</code>ğŸ‘‡  <strong>åœ¨æŒä¹…å±‚åšåˆ‡é¢è¿‡æ»¤æ•°æ®å®ä½“</strong>   <strong>ï¼ˆæ•°æ®è®¿é—®æ§åˆ¶ï¼‰</strong></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p><code>SomeServiceMethod</code> ğŸ‘‰ <code>ControllerMethod</code> ğŸ‘‡</p>
<p><code>HttpResponce</code></p>
</li>
</ul>
<p><strong>å¯ä»¥çœ‹åˆ°ï¼Œè¿™å¥—æƒé™æ§åˆ¶æ–¹æ¡ˆæ˜¯æ¾è€¦åˆçš„ã€‚</strong></p>
<h3 id="æ¥å£æƒé™æ§åˆ¶"><a href="#æ¥å£æƒé™æ§åˆ¶" class="headerlink" title="æ¥å£æƒé™æ§åˆ¶"></a>æ¥å£æƒé™æ§åˆ¶</h3><p>ä¸ºäº†å®ç°ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ï¼Œå†³å®šé‡‡ç”¨<strong>Role_Based Access Control 1.0</strong>æ¨¡å¼çš„æƒé™æ§åˆ¶æ–¹æ¡ˆã€‚</p>
<p>æƒé™ç›¸å…³çš„å®ä½“åˆ†åˆ«ä¸º<code>User</code>ã€<code>Role</code>ä»¥åŠ<code>Resource</code>ã€‚</p>
<ul>
<li>Resouceä¸ºå…·ä½“çš„èµ„æºï¼ŒRoleåˆ™ä¸ºResourceçš„é›†åˆã€‚</li>
<li>å…³è”è¡¨Role_Resouceè¡¨ç¤ºäº†ä¸€ä¸ªRoleå¯ä»¥è®¿é—®å“ªäº›èµ„æºï¼Œä¸ºä¸€å¯¹å¤šæ˜ å°„ã€‚</li>
<li>å…³è”è¡¨User_Roleè¡¨ç¤ºäº†ä¸€ä¸ªUseræ‹¥æœ‰å“ªäº›è§’è‰²ï¼Œä»è€Œæœ‰æƒè®¿é—®å¯¹åº”çš„èµ„æºã€‚</li>
<li>æƒé™æ§åˆ¶æ—¶ï¼ŒåªéªŒè¯è¿™ä¸ªç”¨æˆ·æ˜¯å¦å…·æœ‰å¯¹åº”çš„è§’è‰²ã€‚</li>
</ul>
<p>é€šè¿‡éœ€æ±‚å¯çŸ¥ï¼Œéœ€è¦æ§åˆ¶çš„èµ„æºå®é™…ä¸ºä¸¤ç±»ï¼ŒAPIä»¥åŠæ•°æ®ã€‚æ•…å°†èµ„æºè¡¨æ‹†åˆ†ä¸º<code>Operation_Resouce</code>ä»¥åŠ<code>Data_Resource</code>, åˆ†åˆ«åœ¨ä¸åŒçš„æµç¨‹ä¸­ä½¿ç”¨è¿›è¡ŒéªŒè¯ã€‚</p>
<h3 id="æ•°æ®è®¿é—®æ§åˆ¶"><a href="#æ•°æ®è®¿é—®æ§åˆ¶" class="headerlink" title="æ•°æ®è®¿é—®æ§åˆ¶"></a>æ•°æ®è®¿é—®æ§åˆ¶</h3><p>å°†éœ€è¦æ§åˆ¶çš„æ•°æ®<strong>æ³¨å†Œä¸ºèµ„æº</strong>ï¼Œå¹¶ä¾æ‰˜RBACæ¨¡å¼è¿›è¡Œæ§åˆ¶ï¼›åªéœ€å°†æ•°æ®å®ä½“çš„Classnameå’ŒIdentifierå½•å…¥å³å¯å®ç°ã€‚</p>
<p>åŸºæœ¬çš„æ€è·¯æ˜¯ï¼š</p>
<ul>
<li>åœ¨æ•°æ®æŒä¹…å±‚è®¾ç½®åˆ‡é¢ï¼Œæ‹¦æˆªè¿”å›å€¼ï¼ˆä»æ•°æ®åº“è£…è½½çš„æ•°æ®å®ä½“ï¼‰ã€‚</li>
<li>å¯¹æ¯ä¸ªå®ä½“ï¼Œ<strong>è§£æ</strong>å‡ºä»–çš„Identifierä¸Classnameï¼Œå¹¶ä¸èµ„æºè¡¨ä¸­å·²æ³¨å†Œçš„æ•°æ®èµ„æºæ¯”å¯¹ã€‚</li>
<li>è‹¥ä¸ºæ³¨å†Œçš„èµ„æºï¼Œè¿›ä¸€æ­¥ä»å…³è”è¡¨ä¸­è·å–å¯è®¿é—®æ­¤èµ„æºçš„è§’è‰²é›†åˆã€‚</li>
<li>ä»ä¸Šä¸‹æ–‡SecurityContextä¸­è·å–å½“å‰è®¿é—®APIç”¨æˆ·çš„Authorityï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æ­¤è§’è‰²ã€‚è‹¥æ— ï¼Œåˆ™å°†å…¶ä»è¿”å›ç»“æœä¸­ç§»é™¤ã€‚</li>
</ul>
<h3 id="ç”³è¯·-å®¡æ‰¹"><a href="#ç”³è¯·-å®¡æ‰¹" class="headerlink" title="ç”³è¯·/å®¡æ‰¹"></a>ç”³è¯·/å®¡æ‰¹</h3><h1 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h1><h2 id="åŸºäºJWTçš„æˆæƒ-éªŒè¯"><a href="#åŸºäºJWTçš„æˆæƒ-éªŒè¯" class="headerlink" title="åŸºäºJWTçš„æˆæƒ/éªŒè¯"></a>åŸºäºJWTçš„æˆæƒ/éªŒè¯</h2><h2 id="åŸºäºæ‹¦æˆªå™¨çš„æ¥å£æ§åˆ¶"><a href="#åŸºäºæ‹¦æˆªå™¨çš„æ¥å£æ§åˆ¶" class="headerlink" title="åŸºäºæ‹¦æˆªå™¨çš„æ¥å£æ§åˆ¶"></a>åŸºäºæ‹¦æˆªå™¨çš„æ¥å£æ§åˆ¶</h2><h2 id="åŸºäºAOPçš„æ•°æ®æ‹¦æˆª"><a href="#åŸºäºAOPçš„æ•°æ®æ‹¦æˆª" class="headerlink" title="åŸºäºAOPçš„æ•°æ®æ‹¦æˆª"></a>åŸºäºAOPçš„æ•°æ®æ‹¦æˆª</h2><h2 id="ç”³è¯·-å®¡æ‰¹ç³»ç»Ÿçš„å®ç°"><a href="#ç”³è¯·-å®¡æ‰¹ç³»ç»Ÿçš„å®ç°" class="headerlink" title="ç”³è¯·/å®¡æ‰¹ç³»ç»Ÿçš„å®ç°"></a>ç”³è¯·/å®¡æ‰¹ç³»ç»Ÿçš„å®ç°</h2>
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/29/Philosophy/" rel="next" title="å­˜åœ¨">
                <i class="fa fa-chevron-left"></i> å­˜åœ¨
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/favicon.ico" alt="Fuhy">
            
              <p class="site-author-name" itemprop="name">Fuhy</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Fuhy" title="GitHub &rarr; https://github.com/Fuhy" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="http://weibo.com/alfredhy" title="å¾®åš &rarr; http://weibo.com/alfredhy" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>å¾®åš</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#éœ€æ±‚åˆ†æåŠæ–¹æ¡ˆè®¾è®¡"><span class="nav-number">1.</span> <span class="nav-text">éœ€æ±‚åˆ†æåŠæ–¹æ¡ˆè®¾è®¡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#éœ€æ±‚æè¿°"><span class="nav-number">1.1.</span> <span class="nav-text">éœ€æ±‚æè¿°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ–¹æ¡ˆè®¾è®¡"><span class="nav-number">1.2.</span> <span class="nav-text">æ–¹æ¡ˆè®¾è®¡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æµç¨‹æ¦‚è¿°"><span class="nav-number">1.2.1.</span> <span class="nav-text">æµç¨‹æ¦‚è¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¥å£æƒé™æ§åˆ¶"><span class="nav-number">1.2.2.</span> <span class="nav-text">æ¥å£æƒé™æ§åˆ¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ•°æ®è®¿é—®æ§åˆ¶"><span class="nav-number">1.2.3.</span> <span class="nav-text">æ•°æ®è®¿é—®æ§åˆ¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç”³è¯·-å®¡æ‰¹"><span class="nav-number">1.2.4.</span> <span class="nav-text">ç”³è¯·/å®¡æ‰¹</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å…·ä½“å®ç°"><span class="nav-number">2.</span> <span class="nav-text">å…·ä½“å®ç°</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#åŸºäºJWTçš„æˆæƒ-éªŒè¯"><span class="nav-number">2.1.</span> <span class="nav-text">åŸºäºJWTçš„æˆæƒ/éªŒè¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åŸºäºæ‹¦æˆªå™¨çš„æ¥å£æ§åˆ¶"><span class="nav-number">2.2.</span> <span class="nav-text">åŸºäºæ‹¦æˆªå™¨çš„æ¥å£æ§åˆ¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åŸºäºAOPçš„æ•°æ®æ‹¦æˆª"><span class="nav-number">2.3.</span> <span class="nav-text">åŸºäºAOPçš„æ•°æ®æ‹¦æˆª</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç”³è¯·-å®¡æ‰¹ç³»ç»Ÿçš„å®ç°"><span class="nav-number">2.4.</span> <span class="nav-text">ç”³è¯·/å®¡æ‰¹ç³»ç»Ÿçš„å®ç°</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  
    <div id="sidebar-dimmer"></div>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fuhy</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>




  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/bootstrap.js?v=7.0.1"></script>


  
  


  


  




  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      
        background-color: #eee;
        background-image: linear-gradient(#fcfcfc, #eee);
        border: 1px solid #d5d5d5;
        border-radius: 3px;
      
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      
        right: 4px;
        top: 8px;
      
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1;
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function(i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap');
      $(e).after($wrap);
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function(e) {
        var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
          return $(e).text();
        }).toArray().join('\n');
        var ta = document.createElement('textarea');
        var yPosition = window.pageYOffset || document.documentElement.scrollTop;
        ta.style.top = yPosition + 'px'; // Prevent page scroll
        ta.style.position = 'absolute';
        ta.style.opacity = '0';
        ta.readOnly = true;
        ta.value = code;
        document.body.appendChild(ta);
        ta.select();
        ta.setSelectionRange(0, code.length);
        ta.readOnly = false;
        var result = document.execCommand('copy');
        
        ta.blur(); // For iOS
        $(this).blur();
      })).on('mouseleave', function(e) {
        var $b = $(this).find('.copy-btn');
        setTimeout(function() {
          $b.text('Copy');
        }, 300);
      }).append(e);
    })
  </script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


</body>
</html>
